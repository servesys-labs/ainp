# AINP Environment Configuration
# Phase 0.1 - Foundation

# Database (with pgvector)
DATABASE_URL=postgresql://ainp:ainp@localhost:5432/ainp
POSTGRES_USER=ainp
POSTGRES_PASSWORD=ainp
POSTGRES_DB=ainp

# Redis
REDIS_URL=redis://localhost:6379

# NATS
NATS_URL=nats://localhost:4222

# OpenAI (for embeddings)
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-key-here

# Security
# Generate a secure random string for JWT signing
JWT_SECRET=your-secret-here

# Rate Limits
RATE_LIMIT_INTENTS_PER_MIN=100
RATE_LIMIT_BURST=200

# Vector Search
VECTOR_SIMILARITY_THRESHOLD=0.7
VECTOR_SEARCH_LIMIT=10

# Environment
NODE_ENV=development

# Logging
LOG_LEVEL=debug

# Server
PORT=8080
HOST=localhost

# Feature Flags
ENABLE_MONITORING=true
ENABLE_TRACING=false

# Web4 POU-lite Integration (default: disabled)
ENABLE_WEB4_POU=false

# Web4 POU-lite Discovery Ranking (default: disabled)
WEB4_POU_DISCOVERY_ENABLED=false

# Discovery ranking weights (must sum to 1.0)
DISCOVERY_SIMILARITY_WEIGHT=0.6
DISCOVERY_TRUST_WEIGHT=0.3
DISCOVERY_USEFULNESS_WEIGHT=0.1

# Signature Verification (default: enabled)
# Set to 'false' to disable Ed25519 signature verification (NOT recommended for production)
SIGNATURE_VERIFICATION_ENABLED=true

# Credit System (Phase 3A)
CREDIT_LEDGER_ENABLED=true           # Enable PostgreSQL credit ledger
INITIAL_CREDITS=1000000              # Initial credits for new agents (1000 credits)

# Usefulness Aggregation (Phase 3B)
USEFULNESS_AGGREGATION_ENABLED=true          # Enable periodic aggregation
USEFULNESS_AGGREGATION_INTERVAL_HOURS=1      # Run every N hours (default: 1)

# Security & Anti-fraud
REPLAY_PROTECTION_ENABLED=true               # Enable Redis-backed replay protection for envelopes
EMAIL_CONTENT_DEDUPE_ENABLED=true            # Enable content-hash dedupe window for email
EMAIL_DEDUPE_TTL_SECONDS=86400               # Dedupe window in seconds (default 24h)
EMAIL_GREYLIST_ENABLED=false                 # Enable greylisting for first-contact email
EMAIL_GREYLIST_DELAY_SECONDS=300             # Greylist delay in seconds (default 5 min)
EMAIL_POSTAGE_ENABLED=false                  # Require postage spend for cold (first-contact) emails
EMAIL_POSTAGE_AMOUNT_ATOMIC=1000             # Postage in atomic units (1000 = 1 credit)

# Payments (Scaffold)
PAYMENTS_ENABLED=false

# Coinbase Commerce (optional)
COINBASE_COMMERCE_ENABLED=false
COINBASE_COMMERCE_API_KEY=
COINBASE_COMMERCE_WEBHOOK_SECRET=

# Lightning (L402) (optional)
LIGHTNING_ENABLED=false
# LIGHTNING_NODE_URL=
# LIGHTNING_MACAROON=

# USDC On-chain (optional)
USDC_ONCHAIN_ENABLED=false
# USDC_WEBHOOK_SECRET=
# USDC_NETWORK=ethereum
# USDC_CONFIRMATIONS=3

# Payments conversion (atomic units per currency unit, default 1000 atomic per 1 unit)
ATOMIC_PER_UNIT=1000

# Monitoring (Optional)
PROMETHEUS_URL=http://localhost:9090
GRAFANA_URL=http://localhost:3000
